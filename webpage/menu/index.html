<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>메뉴 페이지</title>
    <link rel="stylesheet" type="text/css" href="../styles.css" />
    <link rel="stylesheet" type="text/css" href="menu.css" />
    <style>
      #user-info {
        position: absolute;
        top: 10px;
        right: 10px;
        text-align: right;
      }
      #user-info span {
        display: block;
      }
    </style>
  </head>
  <body>
    <div id="user-info">
      <span id="user-email"></span>
      <span id="user-name"></span>
    </div>
    <div id="container">
      <div id="menu-message">Please select menu</div>
      <button class="menu-button" onclick="redirectToProcedure()">
        점검절차 생성
      </button>
      <button class="menu-button" onclick="redirectToReport()">
        보고서 확인
      </button>
      <button class="menu-button" onclick="redirectToConference()">
        화상회의
      </button>
    </div>

    <script>
      function redirectToProcedure() {
        window.location.href = "/report";
      }

      function redirectToReport() {
        window.location.href = "/infra";
      }

      function redirectToConference() {
        window.location.href = "/conference-view";
      }

      // 쿠키 값을 읽는 함수
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(";").shift();
      }

      // 페이지 로드 시 이메일과 이름을 표시
      document.addEventListener("DOMContentLoaded", () => {
        const email = getCookie("email");
        const name = getCookie("name");

        if (email) {
          document.getElementById("user-email").textContent = `Email: ${email}`;
        }

        if (name) {
          document.getElementById("user-name").textContent = `Name: ${name}`;
        }
      });
    </script>
  </body>
</html>
